{"name":"Simple framework","tagline":"","body":"#[Services][] - [Utility Tools][] - **Utility Tools Interfaces**\r\n\r\n``simplefwk-utilitytoolsinterfaces`` contains the ``IObjectHolder`` and ``IRootNtupleWriterTool`` interface header files. It also contains concrete ``IObjectHolder`` classes.\r\n\r\n##installation\r\n\r\nA makefile is provided for unix-like operating systems (tested on Mac OS X 10.7.5). Requirements: \r\n* C++11 compliant c++ compiler (e.g. g++ 4.8)\r\n* [boost][]\r\n\r\n(All the above can be obtained through [macports][] for Max OS X systems.)\r\n\r\n##Usage\r\n\r\nThe easiest way to register TTree branches with the concrete classes is by means of a macro:\r\n\r\n````c++\r\n//helper macros\r\n#define REGBRANCH_S(name, type, initVal) m_ntuple_helper->registerBranch(#name, new SingleObjectHolder< type >(initVal));\r\n#define REGBRANCH_V(name, type)          m_ntuple_helper->registerBranch(#name, new VectorObjectHolder< type >());\r\n````\r\n\r\nHere, **SingleObjectHolder** is used to register a branch containing a single data object per event (such as an integer, a float, or a double, etc.). A default initial value can be specified. \r\n\r\n**VectorObjectHolder** is used for vector of data objects (such as a vector of floats).\r\n\r\nWith the help of those macros, one can readily register branches to the ROOT ntuple write tool:\r\n\r\n````c++\r\nREGBRANCH_S(target, int, -1)\r\nREGBRANCH_V(features, double)\r\n````\r\n\r\nIn a single event, the ``IRootNtupleWriterTool::pushBack`` method is to be called once for branches associated with a single data object (**SingleObjectHolder**) and as many as needed for vector of data objects (**VectorObjectHolder**). I.e., in a single event :\r\n\r\n````c++\r\nint my_target = 3;\r\nm_ntuple_helper->pushBack(\"target\", boost::any(&my_target));\r\n\r\nfor ( auto const & it : features ) {\r\n\r\n  m_ntuple_helper->pushBack(\"features\", boost::any(&it));\r\n\r\n}\r\n````\r\n\r\n[boost]: http://www.boost.org/\r\n[macports]: http://www.macports.org/\r\n[Services]: http://chapleau.github.io/simplefwk-services/\r\n[Utility Tools]: http://chapleau.github.io/simplefwk-utilitytools/","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}